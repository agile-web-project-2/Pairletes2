extends layout

block content
  script.
      console.log('loading script');
      var socket = io();
      console.log('connected');

      function send(){
        console.log('send');
        var message = document.getElementById('message');
        socket.emit('message', message.value);
        message.value = '';
      };

      socket.on('message', function(msg){
        var messages = document.getElementById('messages');
        var newText = document.createElement('li');
        newText.innerHTML = msg;
        messages.appendChild(newText);
      });
    
  .container
    h1 Messages
    #chatwindow(width='50%', float='right')
      #messages
      
      form(action="", id='msgForm', onSubmit='return false;')
          input(id="message" autocomplete="off")
          button(type='button', onClick='send();') Send